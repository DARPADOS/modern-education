<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<div th:replace="fragments/head :: head('Home')"></div>

<body>
    <!--navbar-->
    <div th:replace="fragments/navbar :: navbar"></div>


    <!--content-->
    <main class="container" >
        <div class="row content-wrapper">
            <img th:src="@{/img/header-index.jpg}" style="aspect-ratio: auto 1340 / 400;" alt="">
            <div class="text-wrapper">
                <h1>IF YOU CAN IMAGINE IT,
                    CAN YOU PROGRAM IT</h1>
            </div>
        </div>
        <div sec:authorize="isAuthenticated()">
        This content is only shown to authenticated users.
        <span sec:authentication="principal.authorities">[ROLE_USER, ROLE_ADMIN]</span>
        </div>
        <div sec:authorize="hasAuthority('ROLE_STUDENT')">
        This content is only shown to students.
        </div>
        <div sec:authorize="hasAuthority('ROLE_TEACHER')">
        This content is only shown to teachers.
        </div>
        <div class="container p-3 my-3 bg-purple rounded shadow">
            <!-- CARUSEL -->
            <div class="row">

                <div class="col-6">
                    <div class="row">
                        <h2>Popular Courses</h2>
                    </div>
                    <div class="row">
                        <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-indicators">
                                <button th:each="course : ${topCourses}" type="button" data-bs-target="#carouselExampleCaptions"
                                    th:attr="data-bs-slide-to=${courseStat.index}, aria-label='Slide' + ${courseStat.count},
                                    class = ${courseStat.first}? 'active', aria-current = ${courseStat.first}? 'true'"></button>
                            </div>
                            <div class="carousel-inner">
                                <div th:each="course : ${topCourses}" class="carousel-item" th:class = "${courseStat.first}? 'carousel-item active' : 'carousel-item'">
                                    <img th:src="@{${'/img/courses/'+ course.mineture_image}}" class="d-block w-100" alt="...">
                                    <div class="carousel-caption d-none d-md-block">
                                        <h5 th:text ="${course.name}"></h5>
                                        <p th:text = "${course.description}"></p>
                                    </div>
                                </div>
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
                                data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
                                data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col-3"></div>
            </div>
        </div>
    </main>

    <div th:replace="fragments/footer :: footer"></div>

    <<div th:replace = "fragments/scripts :: links">
        
    </div>
</body>

</html>